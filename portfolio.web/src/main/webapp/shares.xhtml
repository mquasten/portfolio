<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<ui:composition template="template.xhtml">
	<ui:param name="headline" value="Aktien suchen" />

<ui:define name="meta">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<f:metadata>
			
			<f:viewAction action="#{sharesController.init(sharesSearch)}" />

		</f:metadata>

	</ui:define>


<ui:define name="content">

<h:form>

<h:panelGrid style="margin-bottom: 25px;" columns="2">
<h:panelGrid id="searchGrid"   columns="2"   >
 <f:facet name="header">
 		Aktie suchen
 </f:facet>
         	<h:outputLabel for="name" value="Name"/>
            <p:inputText id="name"  value="#{sharesSearch.name}" />
            <h:outputLabel for="code" value="Code"/>
            <p:inputText id="code"  value="#{sharesSearch.code}"  />  
            <h:outputLabel for="index" value="Index"/>
        
            
            <p:selectOneMenu id="index" value="#{sharesSearch.index}" effect="fold" editable="true" >
           <f:selectItem />
            <f:selectItems value="#{sharesSearch.indexes}" />
            </p:selectOneMenu>
            <f:facet name="footer">
         <h:panelGroup style="display:block; text-align:center">
            <p:commandButton id="searchButton" value="Suchen"  process="searchGrid" update="sharesTable" action="#{sharesController.page(sharesSearch)}" />
            
          
         </h:panelGroup>
		</f:facet>	
		
</h:panelGrid>

<h:panelGrid style="margin-left: 25px;"  >
<f:facet name="header">
 		<h:outputText value="Portfolio"  />
 </f:facet>

<h:outputText  value="xxxx"/>

</h:panelGrid>

</h:panelGrid>	

 <p:dataTable id="sharesTable" var="entry" value="#{sharesSearch.timeCourses}" selection="#{sharesSearch.selectedTimeCourse}" rowKey="#{entry.key.code()}"  lazy="true"    resizableColumns="true"     >
        <f:facet name="header">  
       
  
  <p:commandButton icon="ui-icon-next"   action="#{sharesController.next(sharesSearch)}"  process="@this"  update="sharesTable"  disabled="#{!sharesSearch.pageable.hasNext()}" />
            <p:commandButton icon="ui-icon-last" action="#{sharesController.last(sharesSearch)}"  process="@this"     update="sharesTable"  disabled="#{sharesSearch.pageable.isLast()}"  />
        
        	<h:outputText  value="#{sharesSearch.pageInfo}"/>
        
           <p:commandButton icon="ui-icon-prev" action="#{sharesController.previous(sharesSearch)}" process="@this"  update="sharesTable"  disabled="#{!sharesSearch.pageable.hasPrevious()}"   />
           <p:commandButton icon="ui-icon-first" action="#{sharesController.first(sharesSearch)}"   process="@this" update="sharesTable"  disabled="#{sharesSearch.pageable.isFirst()}"  />

        </f:facet>
        <p:column selectionMode="single" style="width:16px;text-align:center"/>
        <p:column headerText="Name">
            <h:outputText value="#{entry.key.name()}" />
        </p:column>
        <p:column headerText="Code">
            <h:outputText value="#{entry.key.code()}" />
        </p:column>
        <p:column headerText="Index">
            <h:outputText value="#{entry.key.index()}" />
        </p:column>
        
       
        <p:column headerText="Standardabweichung">
            <h:outputText value="#{entry.value.standardDeviation()}" />
        </p:column>
        
         <p:column headerText="Delta/Tag">
            <h:outputText value="#{entry.value.meanRate()}" />
        </p:column>
    </p:dataTable>



</h:form>
	
	
</ui:define>

</ui:composition>
</html>