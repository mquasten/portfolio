<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"

	    xmlns:aop="http://www.springframework.org/schema/aop"

	    xmlns:batch="http://www.springframework.org/schema/batch" xmlns:task="http://www.springframework.org/schema/task"

	    xmlns:file="http://www.springframework.org/schema/integration/file"

	    xmlns:p="http://www.springframework.org/schema/p" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"

	    xmlns:context="http://www.springframework.org/schema/context"

	    xmlns:jdbc="http://www.springframework.org/schema/jdbc"

	    xmlns:util="http://www.springframework.org/schema/util"

	    xsi:schemaLocation="http://www.springframework.org/schema/beans

	    http://www.springframework.org/schema/beans/spring-beans.xsd   

	    http://www.springframework.org/schema/integration/file

	    http://www.springframework.org/schema/integration/file/spring-integration-file.xsd

	    http://www.springframework.org/schema/beans

	    http://www.springframework.org/schema/beans/spring-beans.xsd

	    http://www.springframework.org/schema/batch

	    http://www.springframework.org/schema/batch/spring-batch.xsd

	    http://www.springframework.org/schema/context

	    http://www.springframework.org/schema/context/spring-context.xsd   

	    http://www.springframework.org/schema/util

	    http://www.springframework.org/schema/util/spring-util.xsd

	    http://www.springframework.org/schema/task

	    http://www.springframework.org/schema/task/spring-task.xsd

	    http://www.springframework.org/schema/jdbc
	    http://www.springframework.org/schema/jdbc/spring-jdbc.xsd">
<import resource="classpath*:application.xml" />
<context:component-scan base-package="de.mq.portfolio.share.support.support" annotation-config="true" />
	<batch:job id="importTimeCourses">




		<batch:step id="doImportTimeCourses">
			<batch:tasklet>
				<batch:chunk reader="shareReader" writer="timeCourseWriter" commit-interval="1"  processor="shareProcessor" />

			</batch:tasklet>
		</batch:step>
	</batch:job>

	<bean id="shareReader" class="de.mq.portfolio.batch.support.SimpleListItemReaderServiceAdapterImpl">
		<constructor-arg ref="shareRepository"/>
		
		<constructor-arg  value="shares"/>
	</bean>
	
	<bean id="shareProcessor" class="de.mq.portfolio.batch.support.SimpleItemProcessorServiceAdapterImpl">
		<constructor-arg ref="shareService"/>
		
		<constructor-arg  value="timeCourse"/>
	</bean>
	
	
	<bean id="timeCourseWriter" class="de.mq.portfolio.batch.support.SimpleItemWriterServiceAdapterImpl">
		<constructor-arg ref="shareService"/>
		
		<constructor-arg  value="replacetTmeCourse"/>
	</bean>


	<bean id="jobRepository"  class="org.springframework.batch.core.repository.support.MapJobRepositoryFactoryBean">
    <property name="transactionManager" ref="transactionManager"/>
	</bean>


<bean id="transactionManager" class="org.springframework.batch.support.transaction.ResourcelessTransactionManager"/>


	<bean id="jobLauncher"
		class="org.springframework.batch.core.launch.support.SimpleJobLauncher">
		<property name="jobRepository" ref="jobRepository" />
	</bean>
	
	
	
	

</beans> 